
module.exports = class Statusbar extends Layer
  constructor: (options={}) ->
    options.theme ?= "black"

    super
      name: "statusbar"
      width: Framer.Screen.width
      height: 40
      backgroundColor: "transparent"

    @networkLayer = new Layer
      name: "network"
      superLayer: @
      height: @height
      width: 175
      x: 13
      backgroundColor: "transparent"
    @networkLayer.style.backgroundImage = "url(data:image/png;base64,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)"

    @timeLayer = new Layer
      name: "time"
      superLayer: @
      height: @height
      width: 97
      midX: @midX
      backgroundColor: "transparent"
    @timeLayer.style.backgroundImage = "url(data:image/png;base64,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)"

    @batteryLayer = new Layer
      name: "battery"
      superLayer: @
      height: @height
      width: 135
      maxX: @maxX - 11
      backgroundColor: "transparent"
    @batteryLayer.style.backgroundImage = "url(data:image/png;base64,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)"

    @theme = options.theme

  @define "theme",
    get: -> @_theme
    set: (value) ->
      @_theme = value
      @invert = if value is "black" then 100 else 0

